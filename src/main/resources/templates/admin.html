

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de administración - PAMBORGHINI</title>
    <link rel="stylesheet" href="/css/admin.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- Cargar jQuery -->
    <script src="/js/mostrardetallesproducto-admin.js"></script>
    <script src="/js/imagenUser.js"></script>
</head>

<body>
    <header>
        <div class="logo">
            <img src="/assets/img/logo3.png" alt="PAMBORGHINI">
        </div>
        <h1 class="main-title">Panel de administración - PAMBORGHINI</h1>
        <img id="user" src="/assets/img/user.png" alt="User" onclick="confirmarCerrarSesion()" width="100px">

    </header>

    <main>
        <div class="admin-container">
            <!-- Zona izquierda: Lista de Usuarios -->
            <section class="admin-users">
                <div class="header-users">
                    <h2>Usuarios</h2>
                    <!-- Buscador de Usuarios -->
                    <div class="search-bar">
                        <form method="GET" action="">
                            <input type="text" name="user-search" id="user-search" placeholder="Buscar usuario..." value="">
                            <button type="submit" class="search-button">
                                <img src="/assets/img/lupa.png" alt="Buscar" class="search-icon">
                            </button>
                        </form>
                    </div>
                </div>

                <ul id="user-list">
                    
                </ul>
                <div class="product-footer">
                    <form action="" method="get">
                        <button type="submit" class="create-product-button">Editar Usuario</button>
                    </form>
                    
                </div>
            </section>

            <!-- Zona derecha: Resumen de Productos -->
            <section class="admin-products">
                <div class="product-header">
                    <h2>Productos disponibles</h2>
                    <!-- Buscador de Productos -->
                    <div class="search-bar">
                        <form method="GET" action="">
                            <input type="text" name="product-search" id="product-search" placeholder="Buscar producto..." value="">
                            <button type="submit" class="search-button">
                                <img src="/assets/img/lupa.png" alt="Buscar" class="search-icon">
                            </button>
                        </form>
                    </div>
                </div>

                <ul id="product-list">
                    
                </ul>

                <div class="product-footer">
                    <form action="" method="get">
                        <button type="submit" class="create-product-button">Crear producto</button>
                    </form>
                    <form action="" method="get">
                        <button type="submit" class="create-product-button">Editar producto</button>
                    </form>
                    <form action="" method="get">
                        <button type="submit" class="create-category-button">Editar Categoria</button>
                    </form>
                    <form action="" method="get">
                        <button type="submit" class="create-category-button">Crear categoría</button>
                    </form>
                    
                </div>

            </section>
        </div>
    </main>

    <footer>
        <p>Pamborghini España © 2024. Todos los derechos reservados.</p>
    </footer>

    <script>
        $(document).ready(function() {
            $('.role-selector').change(function() {
                const form = $(this).closest('.role-update-form');
                const id = form.find('input[name="id"]').val();
                const tipo_usuario = $(this).val();

                $.post('', {
                    id: id,
                    tipo_usuario: tipo_usuario
                }, function(response) {
                    const data = JSON.parse(response);
                    if (data.success) {
                        alert(data.message);
                    } else {
                        alert(data.message);
                    }
                }).fail(function() {
                    alert('Error en la comunicación con el servidor.');
                });
            });
        });
    </script>
</body>

</html>